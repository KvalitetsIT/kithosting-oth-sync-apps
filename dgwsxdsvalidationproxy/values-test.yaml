networkPolicy:
  loadbalancer: 49.12.22.127/32

service:
  namespace: oth-sync
  fullnameOverride: dgwsxdsvalidationproxy
  image:
    repository: kvalitetsit/dgwsxdsvalidationproxy
  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: "nginx"
      cert-manager.io/cluster-issuer: letsencrypt-prod
    hosts:
      - host: dgwsxdsvalidationproxy.oth-sync.t0.hosting.kitkube.dk
        paths:
          - path: /
    tls:
      - hosts:
          - dgwsxdsvalidationproxy.oth-sync.t0.hosting.kitkube.dk
        secretName: dgwsxdsvalidationproxy.oth-sync.t0.hosting.kitkube.dk

  deployment:
    env:
      LOG_MAX_FILE_SIZE:
        value: "10MB"
      LOG_MAX_BACKUP_INDEX:
        value: 5
      iti41_backend_url:
        value: "http://openxds-server:8020/axis2/services/xdsrepositoryb"
      iti43_backend_url:
        value: "http://openxds-server:8020/axis2/services/xdsrepositoryb"
      logging_rules_log_cprnumber:
        value: true
      logging_rules_log_clinical_document:
        value: true
      validation_rules_validate_document:
        value: true
      validation_rules_continue_on_error:
        value: false
      reporting_rules_report_document:
        value: true
      allow_iti41:
        value: true
      allow_iti43:
        value: false
      cda_validation_client_endpoint:
        value: "http://cdavalidateservice/services/validate"
      document_type_codes_code:
        value: "53576-5;74468-0;74465-6;39289-4;"
      document_type_codes_name:
        value: "PHMR;QFDD;QRD;APD;"
      log_cda_document_decode_exception:
        value: true
      log_cda_document_decode:
        value: false
      http_client_max_total_connections:
        value: "2"
      http_client_defalt_max_connections_per_route:
        value: "2"
      service_version:
        value: "v1.3.9"
      LOG_LEVEL:
        value: "INFO"
      NSP_TEST_FEDERATION:
        value: true
      NSP_HANDLER_LOG_MIN_LEVEL:
        value: "INFO"
    extraVolumeMounts:
      openxds-ds.xml:
        mountPath: /pack/wildfly8/standalone/deployments/openxds-ds.xml
        subPath: openxds-ds.xml
      cra-ds.xml:
        mountPath: /pack/wildfly8/standalone/deployments/cra-ds.xml
        subPath: cra-ds.xml

  sealedSecret:
    dgwsxdsvalidationproxy-datasources:
      encryptedData:
        openxds-ds.xml: AgDkZ2zLSaBgEEhVJ6fDJR6evLiwvaApl/4JwC17YLeGxTbptQ2AEVsskmrq5wFiT1gC5lnCn5NmWOiuWQLESlpWoLIaL135VkkmvL6qgFgZp9X7bHwMqkV3B7P4nG2JU28CnbnnuN19gBpMVuOLf0geqHl19DdzmHuJuOF1QNCSCoxAbSJDYiorXi2hhf6/G6Cf0tDBzPAayhD5tgJdNaFmFJ8Ehe4PscLTfmnYdNRNXBSHRvops6Z52SSgHrWebSNDq4czqAVgykebNUeKfQCRnQ0rdX7wMKfBg1f32P4bYepov2ChIwue4gslxDZjJ8WRvqSosahMpbxesnLLyp+oug4QEM9y/PvItXuSdMhooMgB+rfJ9TAMhDETHZ1jqBP7raYEl1ZMLOI49+2OP20rjz0XHw6etxp5mvalmYZVewYB1aPEuVagveoyUEzBMAostJymfyXy4pSR9Z/d64MvWbPQwlaLG+shftvF+1ufwaMQDqikB/qmkiLP2TYShs78hnRKselArZ/W37WVYI0jwVlt4oVMj0RSjRw73gWWekUsft5KOfO8VE+NX2KeHwQrLQaTcXQrXXduqth7sbMixu2Bxg1rC2ZElcj48MZtYGCRaie4N7N5Sat2RBNcWpyjGTq6DcyOEUtZMFK/cwwp6be47JKNhbF2QDc3Uzs+6EmaQkW8a5O2fmP0/iHkgOlBfgVjq59uGsBFjlDbidFC9bGB9mBykE2OLyU9WdXHtzYXPmdKgoj7IW/7sZ4etuAv1JiDr8rPbQu3DQWXou1PDipAa0b/IHX7Ad9w3nQOK2IuimChWekB3OCVbGIH56mrK71zUIKTdfvvyswazRBEULNPDDznu697ttxiNSDSfeYx5hbFnWJ+jLq9K4ZpqmM8pUqTIRN2WpwKNWM//ZbxpJVINKtHpU7JH82wIqbAFTZsevyOCZuUxIQareKTHmc4Jk+X1TreyxVXordui7JW74i0VX1IoeJQLohUWsX2tDeQSy00AYVkQYLLP2QHXNAsjDJlv1ozb3y24BNvjBC/WKhN7H1YMc+BrBsIoTV2PIiQg9ufSxmjls1Rcbld7GOqC8Z65QpWQfXiG/E4rbgrNGVuSM7tvQWLxFQL4LSYP4LBGVtxMG0VmPwwL+dEIARrQKuost7Rpjl3LSlMlT7phc40SUUSlh3AQpJCxUQTZzVijEPr92rnDcN1ertjHJZ9ddRAqJnV9sOoVlvITspxyJPq8oNJNcA1D9egzgXZ6nMVmZho88jZb7QU1+sv2YZvez7KjSeDvU0GuEig4PLda94vFhy92u2qF5EO9uZmiAN6W+QZwav8ipGBdLanxSmSuVeqP4FZfs2LGo1smjfi/A0LxHRhkd/VUT5VN9n2b47Jsc+9obreWuzvb/cGPaOvI7nY7CB8MJL/Uf15Lo8+W9ZGwccOzATtX3xMHK1wkB32kjnfL8lSHASjMv3fT62QiQ4t5yb/50+wqyDEcEQsvy6/IsNMxUWqF2t60W+EeQJ+mckRGzbV20rrWq1VWOq1g84oIvarnVgxsvVRQrsh2U0bW4wdUuX/HAO4J3uQJAbexTiLh3tfWmGVBtLdd5zEy4NFscQOqVuE8utekg/yR9jvoDjOOkhr35kD/zYBGzgcw9ZXJPC+oWBZ0MzJ/KbZidUU3cMm5Nj7/o5bC2f9scBvM8bmwnqho1pHy4h/Uuq/A125Z1aaV63h
        cra-ds.xml: AgDx1qPTzgMR5S3DOQ8ZbduEe15NgeSupviEoz8XzirWXu6LS9pvkDpaoIwKg1TSukHIp3QasPXM3wNKdmMiFYRVWUrg7daZRlgBIGk0T4blDo5gtor3KRhPIY8VwCCqNO1nhiymJqiSin6ymN+lzR/uh9zV23bEJoLonk9NJW/9/qTffvyLnlejuifgWXzP73061kalIV8lhwqQb0VHCA+jaXa1RrXviTH9i6zm/LyKFMnexctpRc+QUQ41CBPD7Z96//Wx4xFcpm8rna0k4fRKAOBgi7NQ8ZwpzOMo2FDxq9poiuxfnabMuKxCbVOtf33YKiyqunlmpjP4S1g2QJRGMXqRXuEBO6E16tyf1s29OkUH32PmQJNJeD69Fv8xTT943aJtBK3ibO4o6h9dUOkdXdV8417BNTII9h/N6l8Az+jWfeIkDQGgTngXFsKEggFdKUrrGEE7xW4Iz8YabW+NUwoVMnSWC05zyljASKCbMAISdc2H5NFKMOOpz/x1q3RUADb/pt+jL/VmLuuXgAFDQHUhid7wlW2lAC1APDJkzZV+SMTYlwqZE14fLSYz3SDnKW+xmLtnX/KqeUdXmPG4tw9Z0Sc1sXEw2Eh3QjHzmjM3Q3TVad3Kzevu//RIeNp6rJBL2guOqZUnBWRyV4ioMLAH7YRLJBSol7HyQiWzOsCZmLupF1xc7ggRD4I03Hy//+BBZclM+1d/1GM9sFQ7yt77pE+v7CMSQhaHmKvYvVOKC0QsldVT39jzKzfz2t43FxJaC4YucrwqjPlUhJgVCSDDuOlvO6pzfnc/9rv+ydeSiZR3C8mAYO++wOZS+LK3Zb40gut4mmTouFtr/YuL3Zz6qaufr/yTCnOPPBFuMFHWfFlxpAlMRVY68K+XofuaBZWui4Y7TwVbTtUzAP7WmH63M/Li0/Ny+h/+kUVdBqv2CTbiIO6VgXqkMTNV2KR+5y9M+gkxcemQwwLn0pkU2u0HezAzPbY6O2cEPPyOOWxvjTQ55ZqmT98rTabKc/O9xUBKSpGX1QoFN5AZDywFgY8er3fivzk0Xcm8N85dOhF5pMXD8wj+nibeEAnawgpElCc77nxQ5EIR+X9Q2/Xh4bcZoRGYJdRUnTx2dZ48WTeI2hCrqpEm5Q/Qw4bM/LF5X9oQ57yTesrZkTW815x/EM8Bn5czv8dF9C28XzTsp5D51Tc5U82fH1LqONCgAZBIrTRVmSZIqf95XHeMGvvezEgn+VxtyLPyeMP+4XLbahAONoAQk7uQmyK7N56Zg0n3oHhICm1c4pXUS8uuOuSgAea0Z6qFhz9W5Up/hOdpCQeAK2ntKgm03NYK/f3ZUzT266JVlreGqjv+DvLOa/3PqBCfXshc5Qpx8yrz0uVjF9b8bGNCqkjL9DunZQG1D3Acxe21yFq43thCUPtExCp3Gs0HJkG3Y9XkzQ0nddTIUgd/NbMD23rSm+8P5ooxrI8EIZ4faCGxVfHOqbUDFkZJeUG0WpSpoMyzOHAjlYZm17vJz74gtah91T9RMcOpMdMpNdYM7N4vtKwmNQ+lDyVpBly8CMediVQjO6xyKWUief+4zuGHAwhHhB0lvxGvSHtFteM72UZL7u/dHJR+Ltg3Eu1cGpKuIuJYtn6zlwtMlsRx7kIhqeY2zaAf2rF+ON4bvEvj4GA3HfMBs+UMJdM9Zzv11wcDlG2dxAT6IjinUzAzxKGkNcLw1b2Sj56dJI2/4KAjLluxHTiHfmY4IKmQ2DfvHdYkoXF0QuViblBg93wzO4EWe6wsYunl4nEc3joc22CUBJ27mnoFA2B/O/e2GvL1fzrF2ngh4vO7MZ9f9chNZCEJSJlH/FOnszCU55WvmA==
